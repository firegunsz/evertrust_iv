/**
 * plugin.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/*jshint unused:false */
/*global tinymce:true */

/**
 * Example plugin that adds a toolbar button and menu item.
 */
tinymce.PluginManager.requireLangPack('mhuser');
tinymce.PluginManager.add('mhuser', function(ed, url) {
	// Add a button that opens a window
	ed.addButton('mhuser', {
		image : url + '/img/mhuser.png',
		tooltip: 'mhuser.desc',
		onclick: function() {
			var userurl = ed.documentBaseURI.toAbsolute('CustColumnList.aspx?maintable=' + ed.getParam('maintable', '0'));
			// Open window
			ed.windowManager.open({
					title: 'mhuser.desc',
				  file: userurl,
					width : 320 + parseInt(ed.getLang('mhuser.delta_width', 0)),
					height : 220 + parseInt(ed.getLang('mhuser.delta_height', 0)),
					inline : 1
				}, {
					plugin_url : url, // Plugin absolute URL
					some_custom_arg : 'custom arg' // Custom argument
				});
		}
	});

});